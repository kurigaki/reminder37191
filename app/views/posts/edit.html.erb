<%= render "shared/header" %>

<div class="wrapper">
  <div class="side-bar">
    <%= render "shared/side_bar" %>
  </div>
    <div class="posts">




<div class="card col-sm-5 mx-auto mt-5">
  <div class="card-body">
    <h3 class="mt-1 mb-3">編集する</h3>
    <%= form_with(model: @post, local: true) do |f| %>
    <%= render 'shared/error_messages', model: f.object %>

    <div class="form-group">
      <%= f.label :genre, "ジャンル" %>
      <span class="indispensable">必須</span><br>
      <%= f.collection_select(:genre_id, Genre.all, :id, :name, {prompt: "---"}, {class:"genre"}) %>
    </div>

    <div class="form-group">
      <%= f.label :title, "タイトル" %>
      <span class="indispensable">必須</span><br>
      <%= f.text_field :title, placeholder:"例) バリデーション", autofocus: true, class:"form-control" %>
    </div>
 
    <div class="form-group">
      <%= f.label :text, "説明" %>
      <span class="indispensable">必須</span><br>
      <%= f.text_area :text, placeholder:"例) 入力チェックのこと", class:"form-control", size:"5x5"%>
    </div>

    <div class="form-group">
      <%= f.label :reference, "参考URL" %>
      <span class="any">任意</span><br>
      <%= f.text_field :reference, placeholder:"例) https://google.html", class:"form-control" %>
    </div>

    <% unless @post.image.present? %>
      <div class="form-group">
        <%= f.label :image, "参考画像" %>
        <span class="any">任意</span><br>
        <%= f.file_field :image, class:"form-control" %>
      </div>
    <% end %>

    <% if @post.image.present? %>
      <div>
        参考画像
        <span class="any">任意</span><br>
        <%= image_tag @post.image.variant(resize: '250x250') %>
        <%= form_for([:new, @post]) do |f| %>
          <%= f.submit value: "画像を削除",name: "delete_image",data: { confirm: "参考画像を削除しますか？"}, class: "btn_send"%>
        <% end %>
      </div>
    <% end %>
 
    <div class="col text-center"><br>
      <%= f.submit "編集する", class: "btn btn-warning btn-block" %>
      <%=link_to 'もどる', root_path, class: "btn btn-secondary btn-block" %>
    </div>
    <% end %>
 
  </div>
</div>
<br>


  </div>
</div>
<%= render "shared/footer" %>